require 'json-schema'
require 'json'
require 'net/http'

class ReservationsController < ApplicationController
  before_action :authenticate_user!

  def list
    reservations = current_user.get_reservations_from_partners

    reservations.each do |res|
      partnerKey = Restaurant.get_partner_key_id(res["partner"])
      restaurant = Restaurant.where("#{partnerKey}": res["partner_restaurant_id"]).take
      res["partner_restaurant_id"] = res["partner_restaurant_id"].to_s
      #Note: we never want this to be nil
      if !(restaurant.nil?)
        res[:restaurant_id] = restaurant[:id]
      end
    end

    json_response(reservations)
  end

  def lock
    is_valid = validate_lock_params
    if !is_valid
      return
    end

    if !validate_user_creds
      return
    end

    restaurant_id = params[:restaurant_id]
    begin
      restaurant = Restaurant.find(restaurant_id)
    rescue ActiveRecord::RecordNotFound
      return not_found
    end

    partner = params[:partner]
    auth_data = current_user.get_auth_data(partner)
    user_data = current_user.get_user_data(partner)
    begin
      response = backend_lock(
        restaurant_id: restaurant.get_partner_restaurant_id(partner),
        auth_data: auth_data,
        user_info: user_data,
        reservation_secrets: params['reservation_secrets'],
        cover: params["cover"],
        datetime: params["datetime"],
        partner: partner
      )
      json_response(JSON.parse(response))
    rescue => e
      logger.info("error")
      logger.info(e)
      # TODO
      json_response({ error: "Error getting lock" }, :bad_request)
    end
  end

  def reserve
    is_valid = validate_reserve_params
    if !is_valid
      return
    end

    if !validate_user_creds
      return
    end

    restaurant_id = params[:restaurant_id]
    begin
      restaurant = Restaurant.find(restaurant_id)
    rescue ActiveRecord::RecordNotFound
      return not_found
    end

    partner = params[:partner]
    if !params[:livemode]
      if partner == Restaurant::Partners[:OPENTABLE]
        return json_response(fake_opentable_reserve_response)
      elsif partner == Restaurant::Partners[:RESY]
        return json_response(fake_resy_reserve_response)
      end
    end

    begin
      user_data = current_user.get_user_data(partner)
      auth_data = current_user.get_auth_data(partner)
      if partner == Restaurant::Partners[:OPENTABLE]
        response = backend_reserve(
          restaurant_id: restaurant["opentable_id"],
          reservation_secrets: params["reservation_secrets"],
          cover: params["cover"],
          datetime: params["datetime"],
          chosen_payment_method: params["chosen_payment_method"],
          lock_secrets: params["lock_secrets"],
          user_info: {
            gpid: user_data["gpid"],
            access_token: user_data["access_token"],
            number: current_user.number
          },
          auth_data: auth_data,
          partner: partner
        )
      elsif partner == Restaurant::Partners[:RESY]
        response = backend_reserve(
          restaurant_id: restaurant["resy_id"],
          reservation_secrets: {},
          cover: params["cover"],
          chosen_payment_method: params["chosen_payment_method"],
          datetime: params["datetime"],
          lock_secrets: params["lock_secrets"],
          user_info: {
            auth_token: user_data["token"]
          },
          auth_data: auth_data,
          partner: partner
        )
      elsif partner == Restaurant::Partners[:YELP]
        response = backend_reserve(
          restaurant_id: restaurant["yelp_id"],
          reservation_secrets: {},
          cover: params["cover"],
          chosen_payment_method: params["chosen_payment_method"],
          datetime: params["datetime"],
          lock_secrets: params["lock_secrets"],
          user_info: {
            first_name: current_user.first_name,
            last_name: current_user.last_name,
            phone: current_user.number,
            email: current_user.email,
          },
          auth_data: auth_data,
          partner: partner
        )
      elsif partner == Restaurant::Partners[:TOCK]
        response = backend_reserve(
          restaurant_id: restaurant["tock_id"],
          reservation_secrets: params['reservation_secrets'],
          cover: params["cover"],
          chosen_payment_method: params["chosen_payment_method"],
          datetime: params["datetime"],
          lock_secrets: params["lock_secrets"],
          user_info: {
            id: user_data["id"],
            first_name: user_data['first_name'],
            last_name: user_data['last_name'],
            number: user_data['number'],
            email: user_data['email'],
          },
          auth_data: auth_data,
          partner: partner
        )
      else
        return json_response({ error: "Partner not recognized: #{partner}" }, :bad_request)
      end
      reservation_details = JSON.parse(response)
      json_response({
        "success": true,
        "reservation": reservation_details
      })
    rescue => e
      # TODO
      logger.info("error")
      logger.info(e)
      return json_response({ error: "Error reserving" }, :bad_request)
    end
  end

  private

  def backend_lock(restaurant_id:, auth_data:, user_info:, reservation_secrets:, cover:, datetime:, partner:)
    http = Net::HTTP.new($loader_host, $loader_port)
    body = {
      restaurant_id: restaurant_id,
      auth_data: auth_data,
      user_info: user_info,
      reservation_secrets: reservation_secrets,
      cover: cover,
      datetime: datetime,
      partner: partner
    }.to_json
    response = http.post(
      "lock",
      body,
      'Content-Type' => 'application/json'
    )

    if response.code == "200"
      response.body
    else
      raise 'Err'
    end
  end

  def backend_reserve(restaurant_id:, reservation_secrets:, chosen_payment_method:, cover:, datetime:, lock_secrets:, user_info:, auth_data:, partner:)
    http = Net::HTTP.new($loader_host, $loader_port)
    body = {
      restaurant_id: restaurant_id,
      chosen_payment_method: chosen_payment_method,
      auth_data: auth_data,
      reservation_secrets: reservation_secrets,
      cover: cover,
      lock_secrets: lock_secrets,
      datetime: datetime,
      user_info: user_info,
      partner: partner
    }.to_json
    response = http.post(
      "reserve",
      body,
      'Content-Type' => 'application/json'
    )

    if response.code == "200"
      response.body
    else
      puts response.body
      puts response.value
      raise 'Err'
    end
  end

  # User needs to have the right partner credentials before reserving on platform
  def validate_user_creds
    partner = params[:partner]
    # Only these two use user creds for now
    if partner == Restaurant::Partners[:RESY] or partner == Restaurant::Partners[:OPENTABLE]
      if !current_user[Restaurant.get_partner_creds_id(partner)]
        json_response({ error: "doesn't have creds to reserve on #{partner}" })
        return false
      end
    end
    return true
  end

  def validate_lock_params
    if request.headers['Content-Type'] != 'application/json'
      json_response({ error: "need json" })
      return false
    end
    schema = {
      "type" => "object",
      "required" => ["restaurant_id", "reservation_secrets", "datetime", "cover", "partner"],
      "properties" => {
        "restaurant_id" => {
          "type": "string"
        },
        "reservation_secrets" => {
          "type": "object"
        },
        "datetime" => {
          "type": "string"
        },
        "partner" => {
          "type": "string",
          "enum": ["yelp", "opentable", "resy", "tock"]
        },
        "cover" => {
          "type": "integer"
        },
      }
    }
    begin
      json_data = JSON.parse(request.raw_post)
      if !JSON::Validator.validate(schema, json_data)
        json_response({ error: "data no good" })
        return false
      end
    rescue JSON::ParserError
      json_response({ error: "need json" })
      return false
    end
    return true
  end

  def validate_reserve_params
    if request.headers['Content-Type'] != 'application/json'
      json_response({ error: "need json" })
      return false
    end
    schema = {
      "type" => "object",
      "required" => ["restaurant_id", "reservation_secrets", "datetime", "cover", "lock_secrets", "livemode", "partner"],
      "optional" => ["chosen_payment_method"],
      "properties" => {
        "restaurant_id" => {
          "type": "string"
        },
        "chosen_payment_method" => {
          "type": "object"
        },
        "livemode" => {
          "type": "boolean"
        },
        "reservation_secrets" => {
          "type": "object"
        },
        "partner" => {
          "type": "string",
          "enum": ["yelp", "opentable", "resy", "tock"]
        },
        "datetime" => {
          "type": "string"
        },
        "lock_secrets" => {
          "type": "object"
        },
        "cover" => {
          "type": "integer"
        },
      }
    }
    begin
      json_data = JSON.parse(request.raw_post)
      JSON::Validator.validate!(schema, json_data)
      return true
    rescue JSON::ParserError
      json_response({ error: "need json" })
      return false
    rescue JSON::Schema::ValidationError => e
      json_response({ error: e.message })
      return false
    end
    return true
  end

  def fake_resy_reserve_response
    return { "success": true, "reservation": { "utcOffset": -480, "tableAttribute": "default", "utcDateTime": "2020-02-03T05:00+0000", "diner": { "lastName": "Billings", "firstName": "Sawyer" }, "domainId": "1", "pointsType": "Standard", "restaurant": { "domain": "COM", "hasMenu": true, "isUserFavorite": false, "latitude": 37.785598999999998, "description": "John's Grill has been a San Francisco tradition since 1908. This historic restaurant is one of the city's oldest and most famous and is a favorite of celebrities who enjoy great steaks, expertly prepared fresh seafood with excellent service and a one of a kind atmosphere. John's Grill was a setting in author Dashiell Hammett, The Maltese Falcon. The restaurant has earned many tributes: it has been chosen as one of the 10 best by Esquire and featured in Gourmet Magazine. \nLive jazz nightly in the upper level dining room.\n\nZAGAT RATED: Food 26 \/ Decor 24 \/ Service 25 \/ Cost $44\n\n\"Step back in time” at this circa-1908 Downtown “landmark”, where “solid steakhouse fare\" and \"strong drinks\" draw “tourists and locals alike\"; \"one of the last old-style SF eateries\", it’s also renowned as a \"Dashiell Hammett hangout\" (and a setting in The Maltese Falcon.)”\n\nZagat Rates John's Grill - #1 Steakhouse in Downtown San Francisco!!!", "paymentOptions": [ "AMEX", "Diners Club", "Discover", "MasterCard", "Visa" ], "sightings": [{ "squareReferences": [{ "width": 160, "label": "small", "height": 160, "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/small.jpg" }, { "width": 208, "label": "legacy", "height": 208, "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/1\/25161162.jpg" }, { "width": 320, "label": "medium", "height": 320, "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/medium.jpg" }, { "width": 640, "label": "large", "height": 640, "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/large.jpg" }, { "width": 752, "label": "xlarge", "height": 752, "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/1\/25161162.jpg" }, { "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/huge.jpg", "label": "huge", "height": 1280, "width": 1280 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/1\/25161162.jpg", "label": "wide-small", "height": 90, "width": 160 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/1\/25161162.jpg", "label": "wide-smedium", "height": 135, "width": 240 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/1\/25161162.jpg", "label": "wide-medium", "height": 180, "width": 320 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/1\/25161162.jpg", "label": "wide-mlarge", "height": 270, "width": 480 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/1\/25161162.jpg", "label": "wide-large", "height": 360, "width": 640 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/1\/25161162.jpg", "label": "wide-xlarge", "height": 423, "width": 752 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/1\/25161162.jpg", "label": "wide-huge", "height": 720, "width": 1280 }, { "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/huge.jpg", "label": "huge", "height": 1280, "width": 1280 } ], "greatShotsCount": 0, "spotted": "2017-11-08T09:35:44Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "25161162", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/1\/25161163.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/1\/25161163.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/1\/25161163.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/1\/25161163.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/1\/25161163.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/1\/25161163.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/1\/25161163.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/1\/25161163.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/1\/25161163.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2017-11-08T09:35:45Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "25161163", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919794.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919794.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919794.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919794.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919794.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919794.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919794.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919794.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919794.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:35:46Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919794", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919793.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919793.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919793.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919793.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919793.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919793.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919793.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919793.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919793.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:35:37Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919793", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919792.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919792.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919792.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919792.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919792.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919792.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919792.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919792.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919792.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:34:43Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919792", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919791.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919791.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919791.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919791.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919791.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919791.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919791.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919791.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919791.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:34:36Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919791", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919790.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919790.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919790.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919790.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919790.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919790.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919790.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919790.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919790.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:34:14Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919790", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919789.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919789.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919789.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919789.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919789.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919789.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919789.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919789.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919789.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:33:59Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919789", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919788.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919788.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919788.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919788.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919788.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919788.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919788.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919788.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919788.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:33:49Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919788", "lovesCount": 0 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-02-18T03:11:04Z", "creator": "Snorider156", "reviewsCount": 0, "origin": "foodspotting", "name": "Jumbo Prawn Cocktail", "rid": "4546", "id": "1434535", "lovesCount": 1 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:55:58Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Mixed Berries", "rid": "4546", "id": "1884336", "lovesCount": 2 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:55:52Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Chocolate Mousse Torte", "rid": "4546", "id": "963815", "lovesCount": 2 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:05:21Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Chef's Special Red Snapper", "rid": "4546", "id": "708458", "lovesCount": 1 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:55:38Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Pecan Pie", "rid": "4546", "id": "77608", "lovesCount": 1 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:05:09Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Broiled Sea Bass", "rid": "4546", "id": "1884313", "lovesCount": 1 } ], "networkListingStatus": true, "photosCount": 135, "tipDisabled": false, "demo": false, "city": "San Francisco", "profilePhoto": { "squareReferences": [{ "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/small\/1\/25583954.jpg", "width": 160, "height": 160, "label": "small" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/1\/25583954.jpg", "width": 208, "height": 208, "label": "legacy" }, { "uri": "https:\/\/images.otstatic.com\/prod\/25583954\/1\/medium.jpg", "width": 320, "height": 320, "label": "medium" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/large\/1\/25583954.jpg", "width": 640, "height": 640, "label": "large" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/1\/25583954.jpg", "width": 752, "height": 752, "label": "xlarge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/huge\/1\/25583954.jpg", "width": 1280, "height": 1280, "label": "huge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/1\/25583954.jpg", "width": 160, "height": 90, "label": "wide-small" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/1\/25583954.jpg", "width": 240, "height": 135, "label": "wide-smedium" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/1\/25583954.jpg", "width": 320, "height": 180, "label": "wide-medium" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/1\/25583954.jpg", "width": 480, "height": 270, "label": "wide-mlarge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/1\/25583954.jpg", "width": 640, "height": 360, "label": "wide-large" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/1\/25583954.jpg", "width": 752, "height": 423, "label": "wide-xlarge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/1\/25583954.jpg", "width": 1280, "height": 720, "label": "wide-huge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/huge\/1\/25583954.jpg", "width": 1280, "height": 1280, "label": "huge" } ], "greatShotsCount": 0, "spotted": "2018-05-22T21:12:13Z", "reviewsCount": 0, "origin": "restaurant", "rid": "4546", "id": "25583954", "lovesCount": 2 }, "neighborhoodName": "Downtown \/ Union Square", "name": "John's Grill", "metroId": "4", "id": "4546", "paymentEnabled": false, "cuisines": [{ "name": "Seafood", "id": "0735c10c-6ab6-46f6-87aa-8fe54397744d", "primary": false }, { "name": "Steak", "id": "9d674eee-87ef-412d-a717-9fb0f53d8ca7", "primary": false }, { "name": "American", "id": "8afc7adc-de3b-439d-91f2-ce568c1a653b", "primary": true } ], "pointsReward": { "countries": [{ "loyaltyTiers": { "DineAnywhere": { "Levels": { "2000": { "Value": 10, "Currency": "USD", "RequiredPoints": 2000, "Name": "$10" }, "20000": { "Name": "$100", "RequiredPoints": 20000, "Currency": "USD", "Value": 100 }, "5000": { "Name": "$25", "RequiredPoints": 5000, "Currency": "USD", "Value": 25 }, "10000": { "Name": "$50", "RequiredPoints": 10000, "Currency": "USD", "Value": 50 } } }, "BestDeal": { "Levels": { "2000": { "Name": "$25", "RequiredPoints": 2000, "Currency": "USD", "Value": 25 }, "20000": { "Value": 210, "Currency": "USD", "Name": "$210", "RequiredPoints": 20000 }, "5000": { "Value": 60, "Currency": "USD", "Name": "$60", "RequiredPoints": 5000 }, "10000": { "Value": 110, "Currency": "USD", "Name": "$110", "RequiredPoints": 10000 } } }, "GreatDeal": { "Levels": { "2000": { "Value": 20, "Currency": "USD", "Name": "$20", "RequiredPoints": 2000 }, "20000": { "Value": 200, "Name": "$200", "RequiredPoints": 20000, "Currency": "USD" }, "5000": { "Value": 50, "Name": "$50", "RequiredPoints": 5000, "Currency": "USD" }, "10000": { "Value": 100, "Name": "$100", "RequiredPoints": 10000, "Currency": "USD" } } } }, "countryName": "US" }] }, "nonNaturalUrl": "https:\/\/www.opentable.com\/restaurant\/profile\/4546", "currencyCode": "USD", "executiveChef": "Mauricio Sibrian", "isAlertWhitelisted": false, "showThirdPartyMenu": true, "phoneNumber": "4159860069", "country": "United States", "line1": "63 Ellis Street", "customMessagesRefresh": { "TooFarInAdvance": { "message": "Unfortunately, [RestaurantName] doesn’t take online reservations that far in advance. Have another time in mind?", "isDefault": true }, "NotFarEnoughInAdvance": { "message": "[RestaurantName] requires more advance booking for online reservations.", "isDefault": true }, "WaitListAfterCutOff": { "message": "Hungry now? Search for a table in the next 90 minutes to join the waitlist.", "isDefault": true }, "CreditCardSuffixMessage": { "message": "Online modifications can be made until 5pm on [resodate]. Any modifications or cancellations after 5pm on [resodate] will require you to contact the restaurant directly and are held to the restaurant's policy and may be subject to fees.", "isDefault": true }, "AboveMaxPartySize": { "message": "Unfortunately, your party is too large to make an online reservation at [RestaurantName]. We recommend contacting the restaurant directly.", "isDefault": true }, "WaitListPartySizeTooBig": { "message": "Only parties of [WaitListMaxPartySize] or less can join the waitlist.", "isDefault": true }, "SameDayCutoff": { "message": "Unfortunately, [RestaurantName] doesn’t take same-day online reservations after [CutoffTime]. Have another time in mind?", "isDefault": true }, "BlockedDay": { "message": "Please accept our apologies, OpenTable has no availability on this date at this restaurant.", "isDefault": true }, "CreditCardPrefixMessage": { "message": "Cancellation policy: \r\nA party of six or more must be confirmed with a valid credit card. Any cancellations must be made prior to 24 hour of reservation to avoid a $25 charge per person. This policy also applies if you need to reduce the number of guests in your party.", "isDefault": false }, "WaitListPartySizeTooSmall": { "message": "Only parties of [WaitListMinPartySize] or more can join the waitlist.", "isDefault": true }, "Confirmation": { "message": "Thank you for choosing to dine at historic John's Grill. We look forward to offering you a classic dining experience.", "isDefault": false }, "EarlyCutoff": { "message": "[RestaurantName] does not allow reservations to be made within [EarlyCutoffDays] days of the reservation date.", "isDefault": true }, "BelowMinPartySize": { "message": "Unfortunately, your party is too small to make an online reservation at [RestaurantName]. We recommend contacting the restaurant directly.", "isDefault": true }, "WaitListNoTimesMessage": { "message": "The waitlist is currently unavailable.", "isDefault": true }, "NoTimesExist": { "message": "At the moment, there’s no online availability within 2.5 hours of [ResoTime]. Have another time in mind?", "isDefault": true }, "DetailsMessage": { "isDefault": true } }, "supportedProducts": [ ], "postalCode": "94102", "formattedPhoneNumber": "(415) 986-0069", "priceBand": { "band": "3", "label": "$31 to $50" }, "region": "NA", "url": "https:\/\/www.opentable.com\/johns-grill", "neighborhoodId": "35", "currencySymbol": "$", "twitterHandle": "@johnsgrillsf", "maxAdvanceDays": 91, "tags": [{ "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 93, "photoMentionsCount": 0, "reviewMentionsCount": 93, "hasMentions": true, "id": "8490e79d-de80-4bac-81dd-e43dded99493", "name": "Great Service" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 49, "photoMentionsCount": 0, "reviewMentionsCount": 49, "hasMentions": true, "id": "96519e16-b09e-4501-94b4-e5441be7a686", "name": "Historic" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 36, "photoMentionsCount": 0, "reviewMentionsCount": 36, "hasMentions": true, "id": "ceada187-4a82-4b31-bc0f-9c31a5033a24", "name": "Good for Birthdays" }, { "name": "Filet Mignon", "kind": "DISH", "snippets": [{ "boldRanges": [{ "length": 12, "location": 10 }], "highlightedRanges": [{ "length": 488, "location": 0 }], "content": "Excellent filet mignon. Easy to tell why they’re known for it. Service was very attentive. I just wish the side dishes were more interesting. The baked potato was cooked well but it was a plain baked potato. The vegetables that accompanied the dish we’re good but not memorable. Overall it’s a well balanced meal and I will probably go back although it won’t be for the creative cuisine. Wood paneling and it pictures on the wall make for interesting yet  traditional San Francisco decor.", "reviewId": "OT-4546-1842041596-120032450212" }], "recentMentionsCount": 0, "totalMentionsCount": 20, "photoMentionsCount": 2, "reviewMentionsCount": 18, "hasMentions": true, "photos": [{ "name": "Filet Mignon", "rid": "4546", "id": "963684", "creator": "John", "lovesCount": 2, "reviewsCount": 0, "greatShotsCount": 0, "origin": "foodspotting", "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_600.jpg", "width": 590, "height": 590 } ], "spotted": "2012-06-02T03:04:04Z" }], "id": "34909b69-edf3-4b15-86d8-b86564f83c0b", "rid": "4546" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 20, "photoMentionsCount": 0, "reviewMentionsCount": 20, "hasMentions": true, "id": "9a8e2037-47d1-4544-b5eb-a16dedbce1f5", "name": "Good for Anniversaries" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 19, "photoMentionsCount": 0, "reviewMentionsCount": 19, "hasMentions": true, "id": "487e1d73-7c80-47f8-bb0c-79f25f7f423c", "name": "Authentic" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 18, "photoMentionsCount": 0, "reviewMentionsCount": 18, "hasMentions": true, "id": "27085f13-abf0-4d9a-b005-d37ea55e4293", "name": "Live Music" }, { "name": "New England Clam Chowder", "kind": "DISH", "snippets": [{ "highlightedRanges": [{ "length": 304, "location": 88 }], "content": "This is a great little neighborhood gem - cozy and cute, but has really good food, too. I highly recommend the New England clam chowder - it is delicious! I ordered a filet mignon medium well, but it came out to me really rare. I told my server about it and he apologized and took care of it right away - great service, great atmosphere! Will go back again when I'm in San Francisco for sure!", "reviewId": "OT-4546-298463041-140044019324", "boldRanges": [{ "length": 24, "location": 111 }] }], "recentMentionsCount": 0, "totalMentionsCount": 17, "photoMentionsCount": 1, "reviewMentionsCount": 16, "hasMentions": true, "photos": [{ "origin": "foodspotting", "creator": "Soo", "greatShotsCount": 0, "name": "New England Clam Chowder", "reviewsCount": 0, "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_600.jpg", "width": 590, "height": 590 } ], "rid": "4546", "lovesCount": 0, "id": "963672", "spotted": "2011-09-15T02:34:58Z" }], "id": "4f569549-dda1-4ef9-a98d-17f8ed199af9", "rid": "4546" }, { "name": "Old Fashioned", "kind": "DISH", "snippets": [{ "boldRanges": [{ "length": 13, "location": 44 }], "reviewId": "OT-4546-126482075", "highlightedRanges": [{ "length": 76, "location": 40 }], "content": "Great food, music and friendly service. The old fashioned feel of the place was awesome and I hope it never changes." }], "recentMentionsCount": 0, "totalMentionsCount": 14, "photoMentionsCount": 1, "reviewMentionsCount": 13, "hasMentions": true, "photos": [{ "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_600.jpg", "width": 590, "height": 590 } ], "origin": "foodspotting", "reviewsCount": 0, "creator": "Matt Jones", "spotted": "2011-02-17T05:47:36Z", "id": "441782", "lovesCount": 1, "name": "Old Fashioned", "rid": "4546", "greatShotsCount": 0 }], "id": "f154fb96-b510-4a10-b819-8ee582a13026", "rid": "4546" }, { "name": "Pacific Red Snapper", "kind": "DISH", "snippets": [{ "reviewId": "OT-4546-1405819114-120026077452", "content": "the new York steak was perfect. the red snapper was great . portions were just right.", "boldRanges": [{ "length": 11, "location": 36 }], "highlightedRanges": [{ "length": 53, "location": 32 }] }], "recentMentionsCount": 0, "totalMentionsCount": 14, "photoMentionsCount": 2, "reviewMentionsCount": 12, "hasMentions": true, "photos": [{ "lovesCount": 1, "origin": "foodspotting", "greatShotsCount": 0, "reviewsCount": 0, "spotted": "2012-06-02T03:05:21Z", "creator": "John", "name": "Chef's Special Red Snapper", "id": "708458", "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_600.jpg", "width": 590, "height": 590 } ], "rid": "4546" }], "id": "ab6b9f06-db0b-4468-bc28-3a17ee07124b", "rid": "4546" }, { "name": "Chilean Sea Bass", "kind": "DISH", "snippets": [{ "boldRanges": [{ "length": 8, "location": 141 }], "highlightedRanges": [{ "length": 212, "location": 131 }], "content": "I was looking for a restaurant near Union Square and had just found this based on the menu choices which included steak and fish.  I had the sea bass which was delicious.  I was able to reserve a table through Open Table at the time that we needed and due to the prompt service, we were able to get to the theatre on time without any problems.", "reviewId": "OT-4546-1565232665-170099387897" }], "recentMentionsCount": 0, "totalMentionsCount": 11, "photoMentionsCount": 1, "reviewMentionsCount": 10, "hasMentions": true, "photos": [{ "rid": "4546", "greatShotsCount": 0, "origin": "foodspotting", "creator": "John", "name": "Broiled Sea Bass", "spotted": "2012-06-02T03:05:09Z", "lovesCount": 1, "reviewsCount": 0, "id": "1884313", "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_600.jpg", "width": 590, "height": 590 } ] }], "id": "d6faba7d-afb3-47c5-90ca-e2f514baa4fc", "rid": "4546" } ], "diningStyle": "Casual Elegant", "state": "CA", "parkingInfo": "None", "features": [ "RESERVATION" ], "publicTransit": "BART \/ MUNI at Powell Street Station", "type": "GuestCenter", "crossStreet": "Powell Street", "parkingDetails": "Parking near John's Grill:\nhttps:\/\/www.parkinsf.com\/sanfrancisco\/parking-near\/John%27s+Grill\n\nThere is a parking garage directly across the street, Ellis - O'Farrell Garage.\nhttps:\/\/www.sfmta.com\/garages-lots\/ellis-ofarrell-garage", "hasGenderNeutralRestroom": true, "photoCategories": [{ "count": 135, "id": "all", "position": 0, "name": "All" }, { "count": 104, "id": "food", "position": 1, "name": "Food" }, { "count": 2, "id": "drink", "position": 2, "name": "Drinks" }, { "count": 7, "id": "interior", "position": 4, "name": "Interior" }, { "count": 11, "id": "exterior", "position": 5, "name": "Exterior" } ], "facebookURL": "http:\/\/www.facebook.com\/johnsgrillSF", "reviews": { "overallRating": 4.5, "ambience": 4.2999999999999998, "count": 885, "ratingBasedOn": "RecentReviews", "noise": 2, "food": 4.4000000000000004, "value": 4.0999999999999996, "reviewCount": 5219, "service": 4.5, "distribution": [{ "value": 1, "count": 11 }, { "value": 2, "count": 18 }, { "value": 3, "count": 66 }, { "value": 4, "count": 245 }, { "value": 5, "count": 545 } ], "dinerRecommendation": { "dontRecommend": 27, "total": 266, "recommend": 239 } }, "countryCode": "US", "dressCode": "Casual Dress", "recommended": false, "hours": "Lunch: Monday - Saturday: 11:00am -3:30pm; Sunday: 12:00pm - 3:30pm;\nDinner: Monday - Sunday: 3:30pm - 9:45pm (last reservation 9:15pm.)", "longitude": -122.407247, "maxPartySize": 20 }, "creditCard": false, "domain": "COM", "partySize": 2, "allOccasions": [ "birthday", "anniversary", "date", "special_occasion", "business_meal" ], "status": 1, "primaryDiner": true, "number": "7812440584", "notes": "", "reservationStatus": "Pending", "confirmationNumber": "2110557979", "type": "Standard", "gpid": "130107869543", "trackingId": "QQhIJHlohcUM8QnN7FM1sdTQ8YJhJgnDVlTtQP8xxJA=", "countryId": "US", "shouldShowReview": true, "id": "913331308", "dateMessages": [{ "message": "Thank you for choosing to dine at historic John's Grill. We look forward to offering you a classic dining experience.", "type": "custom_policies" }], "dateTime": "2020-02-02T21:00", "points": 100, "token": "01R5q2nQS3vdQowRI_gh0zmHrN-k1f2WcaBxNxcZ2phXE1" } }

  end

  def fake_opentable_reserve_response
    return { "success": true, "reservation": { "utcOffset": -480, "tableAttribute": "default", "utcDateTime": "2020-02-03T05:00+0000", "diner": { "lastName": "Billings", "firstName": "Sawyer" }, "domainId": "1", "pointsType": "Standard", "restaurant": { "domain": "COM", "hasMenu": true, "isUserFavorite": false, "latitude": 37.785598999999998, "description": "John's Grill has been a San Francisco tradition since 1908. This historic restaurant is one of the city's oldest and most famous and is a favorite of celebrities who enjoy great steaks, expertly prepared fresh seafood with excellent service and a one of a kind atmosphere. John's Grill was a setting in author Dashiell Hammett, The Maltese Falcon. The restaurant has earned many tributes: it has been chosen as one of the 10 best by Esquire and featured in Gourmet Magazine. \nLive jazz nightly in the upper level dining room.\n\nZAGAT RATED: Food 26 \/ Decor 24 \/ Service 25 \/ Cost $44\n\n\"Step back in time” at this circa-1908 Downtown “landmark”, where “solid steakhouse fare\" and \"strong drinks\" draw “tourists and locals alike\"; \"one of the last old-style SF eateries\", it’s also renowned as a \"Dashiell Hammett hangout\" (and a setting in The Maltese Falcon.)”\n\nZagat Rates John's Grill - #1 Steakhouse in Downtown San Francisco!!!", "paymentOptions": [ "AMEX", "Diners Club", "Discover", "MasterCard", "Visa" ], "sightings": [{ "squareReferences": [{ "width": 160, "label": "small", "height": 160, "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/small.jpg" }, { "width": 208, "label": "legacy", "height": 208, "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/1\/25161162.jpg" }, { "width": 320, "label": "medium", "height": 320, "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/medium.jpg" }, { "width": 640, "label": "large", "height": 640, "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/large.jpg" }, { "width": 752, "label": "xlarge", "height": 752, "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/1\/25161162.jpg" }, { "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/huge.jpg", "label": "huge", "height": 1280, "width": 1280 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/1\/25161162.jpg", "label": "wide-small", "height": 90, "width": 160 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/1\/25161162.jpg", "label": "wide-smedium", "height": 135, "width": 240 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/1\/25161162.jpg", "label": "wide-medium", "height": 180, "width": 320 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/1\/25161162.jpg", "label": "wide-mlarge", "height": 270, "width": 480 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/1\/25161162.jpg", "label": "wide-large", "height": 360, "width": 640 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/1\/25161162.jpg", "label": "wide-xlarge", "height": 423, "width": 752 }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/1\/25161162.jpg", "label": "wide-huge", "height": 720, "width": 1280 }, { "uri": "https:\/\/images.otstatic.com\/prod\/25161162\/1\/huge.jpg", "label": "huge", "height": 1280, "width": 1280 } ], "greatShotsCount": 0, "spotted": "2017-11-08T09:35:44Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "25161162", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/1\/25161163.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/1\/25161163.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/1\/25161163.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/1\/25161163.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/1\/25161163.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/1\/25161163.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/1\/25161163.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/1\/25161163.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/1\/25161163.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/25161163\/1\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2017-11-08T09:35:45Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "25161163", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919794.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919794.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919794.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919794.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919794.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919794.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919794.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919794.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919794.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919794\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:35:46Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919794", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919793.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919793.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919793.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919793.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919793.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919793.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919793.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919793.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919793.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919793\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:35:37Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919793", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919792.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919792.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919792.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919792.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919792.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919792.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919792.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919792.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919792.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919792\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:34:43Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919792", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919791.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919791.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919791.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919791.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919791.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919791.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919791.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919791.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919791.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919791\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:34:36Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919791", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919790.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919790.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919790.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919790.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919790.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919790.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919790.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919790.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919790.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919790\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:34:14Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919790", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919789.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919789.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919789.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919789.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919789.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919789.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919789.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919789.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919789.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919789\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:33:59Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919789", "lovesCount": 0 }, { "squareReferences": [{ "height": 160, "width": 160, "label": "small", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/small.jpg" }, { "height": 208, "width": 208, "label": "legacy", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/3\/28919788.jpg" }, { "height": 320, "width": 320, "label": "medium", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/medium.jpg" }, { "height": 640, "width": 640, "label": "large", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/large.jpg" }, { "height": 752, "width": 752, "label": "xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/3\/28919788.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/huge.jpg" }, { "height": 90, "width": 160, "label": "wide-small", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/3\/28919788.jpg" }, { "height": 135, "width": 240, "label": "wide-smedium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/3\/28919788.jpg" }, { "height": 180, "width": 320, "label": "wide-medium", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/3\/28919788.jpg" }, { "height": 270, "width": 480, "label": "wide-mlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/3\/28919788.jpg" }, { "height": 360, "width": 640, "label": "wide-large", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/3\/28919788.jpg" }, { "height": 423, "width": 752, "label": "wide-xlarge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/3\/28919788.jpg" }, { "height": 720, "width": 1280, "label": "wide-huge", "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/3\/28919788.jpg" }, { "height": 1280, "width": 1280, "label": "huge", "uri": "https:\/\/images.otstatic.com\/prod\/28919788\/3\/huge.jpg" } ], "greatShotsCount": 0, "spotted": "2020-01-16T17:33:49Z", "reviewsCount": 0, "origin": "restaurant", "name": "", "rid": "4546", "id": "28919788", "lovesCount": 0 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1349112\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-02-18T03:11:04Z", "creator": "Snorider156", "reviewsCount": 0, "origin": "foodspotting", "name": "Jumbo Prawn Cocktail", "rid": "4546", "id": "1434535", "lovesCount": 1 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829294\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:55:58Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Mixed Berries", "rid": "4546", "id": "1884336", "lovesCount": 2 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829289\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:55:52Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Chocolate Mousse Torte", "rid": "4546", "id": "963815", "lovesCount": 2 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:05:21Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Chef's Special Red Snapper", "rid": "4546", "id": "708458", "lovesCount": 1 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829281\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:55:38Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Pecan Pie", "rid": "4546", "id": "77608", "lovesCount": 1 }, { "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_600.jpg", "width": 590, "height": 590 } ], "greatShotsCount": 0, "spotted": "2012-06-02T03:05:09Z", "creator": "John", "reviewsCount": 0, "origin": "foodspotting", "name": "Broiled Sea Bass", "rid": "4546", "id": "1884313", "lovesCount": 1 } ], "networkListingStatus": true, "photosCount": 135, "tipDisabled": false, "demo": false, "city": "San Francisco", "profilePhoto": { "squareReferences": [{ "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/small\/1\/25583954.jpg", "width": 160, "height": 160, "label": "small" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/legacy\/1\/25583954.jpg", "width": 208, "height": 208, "label": "legacy" }, { "uri": "https:\/\/images.otstatic.com\/prod\/25583954\/1\/medium.jpg", "width": 320, "height": 320, "label": "medium" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/large\/1\/25583954.jpg", "width": 640, "height": 640, "label": "large" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/xlarge\/1\/25583954.jpg", "width": 752, "height": 752, "label": "xlarge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/huge\/1\/25583954.jpg", "width": 1280, "height": 1280, "label": "huge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-small\/1\/25583954.jpg", "width": 160, "height": 90, "label": "wide-small" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-smedium\/1\/25583954.jpg", "width": 240, "height": 135, "label": "wide-smedium" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-medium\/1\/25583954.jpg", "width": 320, "height": 180, "label": "wide-medium" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-mlarge\/1\/25583954.jpg", "width": 480, "height": 270, "label": "wide-mlarge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-large\/1\/25583954.jpg", "width": 640, "height": 360, "label": "wide-large" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-xlarge\/1\/25583954.jpg", "width": 752, "height": 423, "label": "wide-xlarge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/wide-huge\/1\/25583954.jpg", "width": 1280, "height": 720, "label": "wide-huge" }, { "uri": "https:\/\/resizer.otstatic.com\/v2\/photos\/huge\/1\/25583954.jpg", "width": 1280, "height": 1280, "label": "huge" } ], "greatShotsCount": 0, "spotted": "2018-05-22T21:12:13Z", "reviewsCount": 0, "origin": "restaurant", "rid": "4546", "id": "25583954", "lovesCount": 2 }, "neighborhoodName": "Downtown \/ Union Square", "name": "John's Grill", "metroId": "4", "id": "4546", "paymentEnabled": false, "cuisines": [{ "name": "Seafood", "id": "0735c10c-6ab6-46f6-87aa-8fe54397744d", "primary": false }, { "name": "Steak", "id": "9d674eee-87ef-412d-a717-9fb0f53d8ca7", "primary": false }, { "name": "American", "id": "8afc7adc-de3b-439d-91f2-ce568c1a653b", "primary": true } ], "pointsReward": { "countries": [{ "loyaltyTiers": { "DineAnywhere": { "Levels": { "2000": { "Value": 10, "Currency": "USD", "RequiredPoints": 2000, "Name": "$10" }, "20000": { "Name": "$100", "RequiredPoints": 20000, "Currency": "USD", "Value": 100 }, "5000": { "Name": "$25", "RequiredPoints": 5000, "Currency": "USD", "Value": 25 }, "10000": { "Name": "$50", "RequiredPoints": 10000, "Currency": "USD", "Value": 50 } } }, "BestDeal": { "Levels": { "2000": { "Name": "$25", "RequiredPoints": 2000, "Currency": "USD", "Value": 25 }, "20000": { "Value": 210, "Currency": "USD", "Name": "$210", "RequiredPoints": 20000 }, "5000": { "Value": 60, "Currency": "USD", "Name": "$60", "RequiredPoints": 5000 }, "10000": { "Value": 110, "Currency": "USD", "Name": "$110", "RequiredPoints": 10000 } } }, "GreatDeal": { "Levels": { "2000": { "Value": 20, "Currency": "USD", "Name": "$20", "RequiredPoints": 2000 }, "20000": { "Value": 200, "Name": "$200", "RequiredPoints": 20000, "Currency": "USD" }, "5000": { "Value": 50, "Name": "$50", "RequiredPoints": 5000, "Currency": "USD" }, "10000": { "Value": 100, "Name": "$100", "RequiredPoints": 10000, "Currency": "USD" } } } }, "countryName": "US" }] }, "nonNaturalUrl": "https:\/\/www.opentable.com\/restaurant\/profile\/4546", "currencyCode": "USD", "executiveChef": "Mauricio Sibrian", "isAlertWhitelisted": false, "showThirdPartyMenu": true, "phoneNumber": "4159860069", "country": "United States", "line1": "63 Ellis Street", "customMessagesRefresh": { "TooFarInAdvance": { "message": "Unfortunately, [RestaurantName] doesn’t take online reservations that far in advance. Have another time in mind?", "isDefault": true }, "NotFarEnoughInAdvance": { "message": "[RestaurantName] requires more advance booking for online reservations.", "isDefault": true }, "WaitListAfterCutOff": { "message": "Hungry now? Search for a table in the next 90 minutes to join the waitlist.", "isDefault": true }, "CreditCardSuffixMessage": { "message": "Online modifications can be made until 5pm on [resodate]. Any modifications or cancellations after 5pm on [resodate] will require you to contact the restaurant directly and are held to the restaurant's policy and may be subject to fees.", "isDefault": true }, "AboveMaxPartySize": { "message": "Unfortunately, your party is too large to make an online reservation at [RestaurantName]. We recommend contacting the restaurant directly.", "isDefault": true }, "WaitListPartySizeTooBig": { "message": "Only parties of [WaitListMaxPartySize] or less can join the waitlist.", "isDefault": true }, "SameDayCutoff": { "message": "Unfortunately, [RestaurantName] doesn’t take same-day online reservations after [CutoffTime]. Have another time in mind?", "isDefault": true }, "BlockedDay": { "message": "Please accept our apologies, OpenTable has no availability on this date at this restaurant.", "isDefault": true }, "CreditCardPrefixMessage": { "message": "Cancellation policy: \r\nA party of six or more must be confirmed with a valid credit card. Any cancellations must be made prior to 24 hour of reservation to avoid a $25 charge per person. This policy also applies if you need to reduce the number of guests in your party.", "isDefault": false }, "WaitListPartySizeTooSmall": { "message": "Only parties of [WaitListMinPartySize] or more can join the waitlist.", "isDefault": true }, "Confirmation": { "message": "Thank you for choosing to dine at historic John's Grill. We look forward to offering you a classic dining experience.", "isDefault": false }, "EarlyCutoff": { "message": "[RestaurantName] does not allow reservations to be made within [EarlyCutoffDays] days of the reservation date.", "isDefault": true }, "BelowMinPartySize": { "message": "Unfortunately, your party is too small to make an online reservation at [RestaurantName]. We recommend contacting the restaurant directly.", "isDefault": true }, "WaitListNoTimesMessage": { "message": "The waitlist is currently unavailable.", "isDefault": true }, "NoTimesExist": { "message": "At the moment, there’s no online availability within 2.5 hours of [ResoTime]. Have another time in mind?", "isDefault": true }, "DetailsMessage": { "isDefault": true } }, "supportedProducts": [ ], "postalCode": "94102", "formattedPhoneNumber": "(415) 986-0069", "priceBand": { "band": "3", "label": "$31 to $50" }, "region": "NA", "url": "https:\/\/www.opentable.com\/johns-grill", "neighborhoodId": "35", "currencySymbol": "$", "twitterHandle": "@johnsgrillsf", "maxAdvanceDays": 91, "tags": [{ "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 93, "photoMentionsCount": 0, "reviewMentionsCount": 93, "hasMentions": true, "id": "8490e79d-de80-4bac-81dd-e43dded99493", "name": "Great Service" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 49, "photoMentionsCount": 0, "reviewMentionsCount": 49, "hasMentions": true, "id": "96519e16-b09e-4501-94b4-e5441be7a686", "name": "Historic" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 36, "photoMentionsCount": 0, "reviewMentionsCount": 36, "hasMentions": true, "id": "ceada187-4a82-4b31-bc0f-9c31a5033a24", "name": "Good for Birthdays" }, { "name": "Filet Mignon", "kind": "DISH", "snippets": [{ "boldRanges": [{ "length": 12, "location": 10 }], "highlightedRanges": [{ "length": 488, "location": 0 }], "content": "Excellent filet mignon. Easy to tell why they’re known for it. Service was very attentive. I just wish the side dishes were more interesting. The baked potato was cooked well but it was a plain baked potato. The vegetables that accompanied the dish we’re good but not memorable. Overall it’s a well balanced meal and I will probably go back although it won’t be for the creative cuisine. Wood paneling and it pictures on the wall make for interesting yet  traditional San Francisco decor.", "reviewId": "OT-4546-1842041596-120032450212" }], "recentMentionsCount": 0, "totalMentionsCount": 20, "photoMentionsCount": 2, "reviewMentionsCount": 18, "hasMentions": true, "photos": [{ "name": "Filet Mignon", "rid": "4546", "id": "963684", "creator": "John", "lovesCount": 2, "reviewsCount": 0, "greatShotsCount": 0, "origin": "foodspotting", "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829109\/thumb_600.jpg", "width": 590, "height": 590 } ], "spotted": "2012-06-02T03:04:04Z" }], "id": "34909b69-edf3-4b15-86d8-b86564f83c0b", "rid": "4546" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 20, "photoMentionsCount": 0, "reviewMentionsCount": 20, "hasMentions": true, "id": "9a8e2037-47d1-4544-b5eb-a16dedbce1f5", "name": "Good for Anniversaries" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 19, "photoMentionsCount": 0, "reviewMentionsCount": 19, "hasMentions": true, "id": "487e1d73-7c80-47f8-bb0c-79f25f7f423c", "name": "Authentic" }, { "rid": "4546", "kind": "ATTRIBUTE", "recentMentionsCount": 0, "totalMentionsCount": 18, "photoMentionsCount": 0, "reviewMentionsCount": 18, "hasMentions": true, "id": "27085f13-abf0-4d9a-b005-d37ea55e4293", "name": "Live Music" }, { "name": "New England Clam Chowder", "kind": "DISH", "snippets": [{ "highlightedRanges": [{ "length": 304, "location": 88 }], "content": "This is a great little neighborhood gem - cozy and cute, but has really good food, too. I highly recommend the New England clam chowder - it is delicious! I ordered a filet mignon medium well, but it came out to me really rare. I told my server about it and he apologized and took care of it right away - great service, great atmosphere! Will go back again when I'm in San Francisco for sure!", "reviewId": "OT-4546-298463041-140044019324", "boldRanges": [{ "length": 24, "location": 111 }] }], "recentMentionsCount": 0, "totalMentionsCount": 17, "photoMentionsCount": 1, "reviewMentionsCount": 16, "hasMentions": true, "photos": [{ "origin": "foodspotting", "creator": "Soo", "greatShotsCount": 0, "name": "New England Clam Chowder", "reviewsCount": 0, "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/870405\/thumb_600.jpg", "width": 590, "height": 590 } ], "rid": "4546", "lovesCount": 0, "id": "963672", "spotted": "2011-09-15T02:34:58Z" }], "id": "4f569549-dda1-4ef9-a98d-17f8ed199af9", "rid": "4546" }, { "name": "Old Fashioned", "kind": "DISH", "snippets": [{ "boldRanges": [{ "length": 13, "location": 44 }], "reviewId": "OT-4546-126482075", "highlightedRanges": [{ "length": 76, "location": 40 }], "content": "Great food, music and friendly service. The old fashioned feel of the place was awesome and I hope it never changes." }], "recentMentionsCount": 0, "totalMentionsCount": 14, "photoMentionsCount": 1, "reviewMentionsCount": 13, "hasMentions": true, "photos": [{ "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/359132\/thumb_600.jpg", "width": 590, "height": 590 } ], "origin": "foodspotting", "reviewsCount": 0, "creator": "Matt Jones", "spotted": "2011-02-17T05:47:36Z", "id": "441782", "lovesCount": 1, "name": "Old Fashioned", "rid": "4546", "greatShotsCount": 0 }], "id": "f154fb96-b510-4a10-b819-8ee582a13026", "rid": "4546" }, { "name": "Pacific Red Snapper", "kind": "DISH", "snippets": [{ "reviewId": "OT-4546-1405819114-120026077452", "content": "the new York steak was perfect. the red snapper was great . portions were just right.", "boldRanges": [{ "length": 11, "location": 36 }], "highlightedRanges": [{ "length": 53, "location": 32 }] }], "recentMentionsCount": 0, "totalMentionsCount": 14, "photoMentionsCount": 2, "reviewMentionsCount": 12, "hasMentions": true, "photos": [{ "lovesCount": 1, "origin": "foodspotting", "greatShotsCount": 0, "reviewsCount": 0, "spotted": "2012-06-02T03:05:21Z", "creator": "John", "name": "Chef's Special Red Snapper", "id": "708458", "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829277\/thumb_600.jpg", "width": 590, "height": 590 } ], "rid": "4546" }], "id": "ab6b9f06-db0b-4468-bc28-3a17ee07124b", "rid": "4546" }, { "name": "Chilean Sea Bass", "kind": "DISH", "snippets": [{ "boldRanges": [{ "length": 8, "location": 141 }], "highlightedRanges": [{ "length": 212, "location": 131 }], "content": "I was looking for a restaurant near Union Square and had just found this based on the menu choices which included steak and fish.  I had the sea bass which was delicious.  I was able to reserve a table through Open Table at the time that we needed and due to the prompt service, we were able to get to the theatre on time without any problems.", "reviewId": "OT-4546-1565232665-170099387897" }], "recentMentionsCount": 0, "totalMentionsCount": 11, "photoMentionsCount": 1, "reviewMentionsCount": 10, "hasMentions": true, "photos": [{ "rid": "4546", "greatShotsCount": 0, "origin": "foodspotting", "creator": "John", "name": "Broiled Sea Bass", "spotted": "2012-06-02T03:05:09Z", "lovesCount": 1, "reviewsCount": 0, "id": "1884313", "squareReferences": [{ "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_90.jpg", "width": 90, "height": 90 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_120.jpg", "width": 120, "height": 120 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_170.jpg", "width": 170, "height": 170 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_275.jpg", "width": 280, "height": 280 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_600.jpg", "width": 590, "height": 590 }, { "uri": "https:\/\/ot-foodspotting-production.s3.amazonaws.com\/reviews\/1829264\/thumb_600.jpg", "width": 590, "height": 590 } ] }], "id": "d6faba7d-afb3-47c5-90ca-e2f514baa4fc", "rid": "4546" } ], "diningStyle": "Casual Elegant", "state": "CA", "parkingInfo": "None", "features": [ "RESERVATION" ], "publicTransit": "BART \/ MUNI at Powell Street Station", "type": "GuestCenter", "crossStreet": "Powell Street", "parkingDetails": "Parking near John's Grill:\nhttps:\/\/www.parkinsf.com\/sanfrancisco\/parking-near\/John%27s+Grill\n\nThere is a parking garage directly across the street, Ellis - O'Farrell Garage.\nhttps:\/\/www.sfmta.com\/garages-lots\/ellis-ofarrell-garage", "hasGenderNeutralRestroom": true, "photoCategories": [{ "count": 135, "id": "all", "position": 0, "name": "All" }, { "count": 104, "id": "food", "position": 1, "name": "Food" }, { "count": 2, "id": "drink", "position": 2, "name": "Drinks" }, { "count": 7, "id": "interior", "position": 4, "name": "Interior" }, { "count": 11, "id": "exterior", "position": 5, "name": "Exterior" } ], "facebookURL": "http:\/\/www.facebook.com\/johnsgrillSF", "reviews": { "overallRating": 4.5, "ambience": 4.2999999999999998, "count": 885, "ratingBasedOn": "RecentReviews", "noise": 2, "food": 4.4000000000000004, "value": 4.0999999999999996, "reviewCount": 5219, "service": 4.5, "distribution": [{ "value": 1, "count": 11 }, { "value": 2, "count": 18 }, { "value": 3, "count": 66 }, { "value": 4, "count": 245 }, { "value": 5, "count": 545 } ], "dinerRecommendation": { "dontRecommend": 27, "total": 266, "recommend": 239 } }, "countryCode": "US", "dressCode": "Casual Dress", "recommended": false, "hours": "Lunch: Monday - Saturday: 11:00am -3:30pm; Sunday: 12:00pm - 3:30pm;\nDinner: Monday - Sunday: 3:30pm - 9:45pm (last reservation 9:15pm.)", "longitude": -122.407247, "maxPartySize": 20 }, "creditCard": false, "domain": "COM", "partySize": 2, "allOccasions": [ "birthday", "anniversary", "date", "special_occasion", "business_meal" ], "status": 1, "primaryDiner": true, "number": "7812440584", "notes": "", "reservationStatus": "Pending", "confirmationNumber": "2110557979", "type": "Standard", "gpid": "130107869543", "trackingId": "QQhIJHlohcUM8QnN7FM1sdTQ8YJhJgnDVlTtQP8xxJA=", "countryId": "US", "shouldShowReview": true, "id": "913331308", "dateMessages": [{ "message": "Thank you for choosing to dine at historic John's Grill. We look forward to offering you a classic dining experience.", "type": "custom_policies" }], "dateTime": "2020-02-02T21:00", "points": 100, "token": "01R5q2nQS3vdQowRI_gh0zmHrN-k1f2WcaBxNxcZ2phXE1" } }

  end
end
